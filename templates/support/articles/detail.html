{% extends 'base/base.html' %}

{% block title %}{{ article.title }}{% endblock %}

{% block content %}
<div class="container mt-4">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url 'support:home' %}">Support Home</a></li>
            <li class="breadcrumb-item"><a href="{% url 'support:article_list' %}">Help Center</a></li>
            {% if article.category %}
                <li class="breadcrumb-item"><a href="{% url 'support:article_list_by_category' category_slug=article.category.slug %}">{{ article.category.name }}</a></li>
            {% endif %}
            <li class="breadcrumb-item active" aria-current="page">{{ article.title }}</li>
        </ol>
    </nav>

    <div class="card mb-4">
        <div class="card-body">
            <h1 class="card-title">{{ article.title }}</h1>
            <p class="card-subtitle mb-2 text-muted">
                Category: {{ article.category.name|default:"N/A" }} |
                Published: {{ article.created_at|date:"M d, Y" }} |
                Last updated: {{ article.updated_at|date:"M d, Y" }} |
                Views: {{ article.views }}
            </p>
            <hr>
            <div class="article-content">
                {{ article.content|safe }}
            </div>
            {% if article.tags.all %}
                <div class="mt-3">
                    <strong>Tags:</strong>
                    {% for tag in article.tags.all %}
                        <span class="badge bg-secondary me-1">{{ tag.name }}</span>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
    </div>

    <div class="mt-4">
        <a href="{% url 'support:article_list' %}" class="btn btn-secondary"><i class="fas fa-arrow-left"></i> Back to Articles</a>
    </div>
</div>
{% endblock %}
