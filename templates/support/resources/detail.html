{% extends 'base/base.html' %}

{% block title %}{{ resource.title }}{% endblock %}

{% block content %}
<div class="container mt-4">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url 'support:home' %}">Support Home</a></li>
            <li class="breadcrumb-item"><a href="{% url 'support:resource_list' %}">Resources</a></li>
            <li class="breadcrumb-item active" aria-current="page">{{ resource.title }}</li>
        </ol>
    </nav>

    <div class="card mb-4">
        <div class="card-body">
            <h1 class="card-title">{{ resource.title }}</h1>
            <p class="card-subtitle mb-2 text-muted">
                Type: {{ resource.get_resource_type_display }} |
                Published: {{ resource.created_at|date:"M d, Y" }}
            </p>
            <hr>
            <div class="resource-description mb-3">
                {% if resource.description %}<p>{{ resource.description }}</p>{% endif %}
            </div>

            {% if resource.resource_type == 'video_tutorial' and resource.external_url %}
                <div class="embed-responsive embed-responsive-16by9 mb-3">
                    <iframe class="embed-responsive-item" src="{{ resource.external_url }}" allowfullscreen></iframe>
                </div>
            {% elif resource.file %}
                <div class="mb-3">
                    <p>Download: <a href="{{ resource.file.url }}" target="_blank">{{ resource.file.name|cut:"support/resources/" }}</a></p>
                </div>
            {% elif resource.external_url %}
                <div class="mb-3">
                    <p>Link: <a href="{{ resource.external_url }}" target="_blank">{{ resource.external_url }}</a></p>
                </div>
            {% endif %}
        </div&gt>
    </div>

    <div class="mt-4">
        <a href="{% url 'support:resource_list' %}" class="btn btn-secondary"><i class="fas fa-arrow-left"></i> Back to Resources</a>
    </div>
</div>
{% endblock %}
