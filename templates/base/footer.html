{% load i18n %}
<!DOCTYPE html>
<!-- Footer Component - Working Version -->
<footer class="footer bg-dark text-light" style="background: linear-gradient(135deg, #212529 0%, #343a40 100%) !important; position: relative; z-index: 100; margin-top: auto;">
    <div class="container-fluid py-4">
        <!-- Main Footer Content -->
        <div class="row g-4">
            <!-- School Information -->
            <div class="col-lg-4 col-md-6">
                <div class="footer-brand mb-3">
                    <img src="/static/images/logo.png" alt="School Management System" height="40" class="mb-2" style="margin-bottom: 0.5rem;">
                    <h5 class="text-white mb-2">School Management System</h5>
                </div>
                <p style="color: rgba(255, 255, 255, 0.7) !important; margin-bottom: 1rem;">
                    Comprehensive platform for educational institutions to manage students, teachers, academics, and administration efficiently.
                </p>
                <div class="contact-info">
                    <div style="display: flex; align-items: flex-start; margin-bottom: 0.5rem;">
                        <i class="bi bi-geo-alt" style="margin-right: 0.5rem; margin-top: 0.125rem; min-width: 20px;"></i>
                        <span>123 Education Street, Learning City, JOS 12345</span>
                    </div>
                    <div style="display: flex; align-items: flex-start; margin-bottom: 0.5rem;">
                        <i class="bi bi-telephone" style="margin-right: 0.5rem; margin-top: 0.125rem; min-width: 20px;"></i>
                        <span>+1 (555) 123-4567</span>
                    </div>
                    <div style="display: flex; align-items: flex-start;">
                        <i class="bi bi-envelope" style="margin-right: 0.5rem; margin-top: 0.125rem; min-width: 20px;"></i>
                        <span>info@nexusschoolmanagement.edu</span>
                    </div>
                </div>
            </div>

            {% if user.is_authenticated %}
            <!-- Quick Access -->
            <div class="col-lg-4 col-md-4">
                <h6 style="text-transform: uppercase; font-weight: bold; margin-bottom: 1rem; color: white;">Quick Access</h6>
                <ul style="list-style: none; padding: 0; margin: 0;">
                    <li style="margin-bottom: 0.5rem;"><a href="{% url 'users:dashboard' %}" style="color: white !important; text-decoration: none; display: block; padding: 0.25rem 0;">Dashboard</a></li>
                    <li style="margin-bottom: 0.5rem;"><a href="{% url 'academics:student_timetable' %}" style="color: white !important; text-decoration: none; display: block; padding: 0.25rem 0;">Timetable</a></li>
                    <li style="margin-bottom: 0.5rem;"><a href="{% url 'assessment:student_marks' %}" style="color: white !important; text-decoration: none; display: block; padding: 0.25rem 0;">Grades</a></li>
                    <li style="margin-bottom: 0.5rem;"><a href="{% url 'attendance:student_my_attendance' %}" style="color: white !important; text-decoration: none; display: block; padding: 0.25rem 0;">Attendance</a></li>
                    <li style="margin-bottom: 0.5rem;"><a href="{% url 'users:profile' %}" style="color: white !important; text-decoration: none; display: block; padding: 0.25rem 0;">My Profile</a></li>
                </ul>
            </div>
            {% endif %}

            <!-- Support & Resources -->
            <div class="col-lg-4 col-md-4">
                <h6 style="text-transform: uppercase; font-weight: bold; margin-bottom: 1rem; color: white;">Support & Resources</h6>
                <ul style="list-style: none; padding: 0; margin: 0;">
                    <li style="margin-bottom: 0.5rem;"><a href="{% url 'support:article_list' %}" style="color: white !important; text-decoration: none; display: block; padding: 0.25rem 0;">Help Center</a></li>
                    <li style="margin-bottom: 0.5rem;"><a href="{% url 'support:article_list' %}" style="color: white !important; text-decoration: none; display: block; padding: 0.25rem 0;">Knowledge Base</a></li>
                    <li style="margin-bottom: 0.5rem;"><a href="{% url 'support:resource_list' %}" style="color: white !important; text-decoration: none; display: block; padding: 0.25rem 0;">User Guides</a></li>
                    <li style="margin-bottom: 0.5rem;"><a href="{% url 'support:resource_list' %}" style="color: white !important; text-decoration: none; display: block; padding: 0.25rem 0;">Video Tutorials</a></li>
                    <li style="margin-bottom: 0.5rem;"><a href="{% url 'support:faq_list' %}" style="color: white !important; text-decoration: none; display: block; padding: 0.25rem 0;">FAQ</a></li>
                </ul>
            </div>

            <!-- Legal & Contact -->
            <div class="col-lg-4 col-md-4">
                <h6 style="text-transform: uppercase; font-weight: bold; margin-bottom: 1rem; color: white;">Legal & Contact</h6>
                <ul style="list-style: none; padding: 0; margin: 0;">
                    <li style="margin-bottom: 0.5rem;"><a href="{% url 'support:privacy_policy' %}" style="color: white !important; text-decoration: none; display: block; padding: 0.25rem 0;">Privacy Policy</a></li>
                    <li style="margin-bottom: 0.5rem;"><a href="{% url 'support:terms_of_service' %}" style="color: white !important; text-decoration: none; display: block; padding: 0.25rem 0;">Terms of Service</a></li>
                    <li style="margin-bottom: 0.5rem;"><a href="{% url 'support:data_protection' %}" style="color: white !important; text-decoration: none; display: block; padding: 0.25rem 0;">Data Protection</a></li>
                    <li style="margin-bottom: 0.5rem;"><a href="{% url 'support:cookie_policy' %}" style="color: white !important; text-decoration: none; display: block; padding: 0.25rem 0;">Cookie Policy</a></li>
                    <li style="margin-bottom: 0.5rem;"><a href="{% url 'support:contact' %}" style="color: white !important; text-decoration: none; display: block; padding: 0.25rem 0;">Contact Support</a></li>
                </ul>
            </div>

            <!-- Newsletter & Social -->
            <div class="col-lg-4 col-md-4">
                <h6 style="text-transform: uppercase; font-weight: bold; margin-bottom: 1rem; color: white;">Stay Connected</h6>
                <p style="color: rgba(255, 255, 255, 0.7) !important; margin-bottom: 1rem;">Subscribe to our newsletter for updates.</p>

                <!-- Newsletter Form -->
                <form style="margin-bottom: 1.5rem;">
                    <div style="display: flex; gap: 0.5rem;">
                        <input type="email" placeholder="Your email" required style="flex: 1; background-color: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); color: white; padding: 0.25rem 0.5rem;">
                        <button style="background: #0d6efd; border: none; color: white; padding: 0.25rem 0.75rem;">
                            <i class="bi bi-send"></i>
                        </button>
                    </div>
                </form>

                <!-- Social Links -->
                <div style="display: flex; gap: 1rem;">
                    <a href="#" style="color: rgba(255, 255, 255, 0.7) !important; font-size: 1.25rem; width: 40px; height: 40px; border-radius: 50%; background: rgba(255, 255, 255, 0.1); display: flex; align-items: center; justify-content: center; text-decoration: none;">
                        <i class="bi bi-facebook"></i>
                    </a>
                    <a href="#" style="color: rgba(255, 255, 255, 0.7) !important; font-size: 1.25rem; width: 40px; height: 40px; border-radius: 50%; background: rgba(255, 255, 255, 0.1); display: flex; align-items: center; justify-content: center; text-decoration: none;">
                        <i class="bi bi-twitter"></i>
                    </a>
                    <a href="#" style="color: rgba(255, 255, 255, 0.7) !important; font-size: 1.25rem; width: 40px; height: 40px; border-radius: 50%; background: rgba(255, 255, 255, 0.1); display: flex; align-items: center; justify-content: center; text-decoration: none;">
                        <i class="bi bi-linkedin"></i>
                    </a>
                    <a href="#" style="color: rgba(255, 255, 255, 0.7) !important; font-size: 1.25rem; width: 40px; height: 40px; border-radius: 50%; background: rgba(255, 255, 255, 0.1); display: flex; align-items: center; justify-content: center; text-decoration: none;">
                        <i class="bi bi-youtube"></i>
                    </a>
                </div>
            </div>
        </div>

        <!-- Bottom Footer -->
        <div style="border-top: 1px solid rgba(255, 255, 255, 0.2); margin-top: 1.5rem; padding-top: 0.75rem;">
            <div class="row align-items-center">
                <div class="col-md-6 text-center text-md-start mb-2 mb-md-0">
                    <p style="margin: 0; color: rgba(255, 255, 255, 0.7) !important;">
                        &copy; 2025 Nexus School Management System. All rights reserved.
                    </p>
                </div>
                <div class="col-md-6 text-center text-md-end">
                    <div style="display: flex; gap: 1.5rem; flex-wrap: wrap; justify-content: center;">
                        <span style="color: rgba(255, 255, 255, 0.6) !important; font-size: 0.875rem; display: flex; align-items: center;">
                            <i class="bi bi-shield-check" style="margin-right: 0.25rem;"></i>
                            Secure & Encrypted
                        </span>
                        <span style="color: rgba(255, 255, 255, 0.6) !important; font-size: 0.875rem; display: flex; align-items: center;">
                            <i class="bi bi-lightning" style="margin-right: 0.25rem;"></i>
                            v1.0.0
                        </span>
                        <span style="color: rgba(255, 255, 255, 0.6) !important; font-size: 0.875rem; display: flex; align-items: center;">
                            <i class="bi bi-server" style="margin-right: 0.25rem;"></i>
                            System Status: <span style="color: #198754;">Online</span>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- Help Floating Button -->
<div style="position: fixed; bottom: 2rem; right: 2rem; z-index: 1030;">
    <button data-bs-toggle="modal" data-bs-target="#helpModal" style="width: 60px; height: 60px; border-radius: 50%; background: #0d6efd; border: none; color: white; display: flex; align-items: center; justify-content: center; font-size: 1.25rem; box-shadow: 0 4px 15px rgba(13, 110, 253, 0.4); cursor: pointer;" title="{% trans 'Quick Help' %}">
        <i class="bi bi-question-lg"></i>
    </button>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const newsletterForm = document.querySelector('form');
    if (newsletterForm) {
        newsletterForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const emailInput = this.querySelector('input[type="email"]');
            if (emailInput && emailInput.value.includes('@')) {
                alert('Thank you for subscribing to our newsletter!');
                emailInput.value = '';
            } else {
                alert('Please enter a valid email address.');
            }
        });
    }

    const socialLinks = document.querySelectorAll('.social-link');
    socialLinks.forEach(link => {
        link.setAttribute('data-bs-toggle', 'tooltip');
    });

    if (typeof bootstrap !== 'undefined') {
        const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        const tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl);
        });
    }
});
</script>
