{% extends "admin/base.html" %}
{% load i18n admin_urls static %}

{% block title %}Approve Staff Application{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
    <a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
    &rsaquo; <a href="{% url 'admin:app_list' app_label='users' %}">{% trans 'Users' %}</a>
    &rsaquo; <a href="{% url 'admin:users_staffapplication_changelist' %}">{% trans 'Staff applications' %}</a>
    &rsaquo; {% blocktrans with application_number=application.application_number %}Approve application {{ application_number }}{% endblocktrans %}
</div>
{% endblock %}

{% block content %}
<div class="module">
    <h1>{% blocktrans with application_number=application.application_number %}Approve Staff Application {{ application_number }}{% endblocktrans %}</h1>

    <div class="form-row">
        <div class="col-md-6">
            <h3>{% trans "Applicant Information" %}</h3>
            <table class="table table-striped">
                <tr><th>{% trans "Full Name" %}</th><td>{{ application.full_name }}</td></tr>
                <tr><th>{% trans "Email" %}</th><td>{{ application.email }}</td></tr>
                <tr><th>{% trans "Phone" %}</th><td>{{ application.phone }}</td></tr>
                <tr><th>{% trans "Position Applied For" %}</th><td>{{ application.position_applied_for.name }} ({{ application.position_applied_for.role_type }})</td></tr>
                <tr><th>{% trans "Application Date" %}</th><td>{{ application.application_date }}</td></tr>
                <tr><th>{% trans "Application Number" %}</th><td>{{ application.application_number }}</td></tr>
            </table>
        </div>
        <div class="col-md-6">
            <h3>{% trans "Additional Details" %}</h3>
            <table class="table table-striped">
                {% if application.years_of_experience %}
                <tr><th>{% trans "Years of Experience" %}</th><td>{{ application.years_of_experience }}</td></tr>
                {% endif %}
                {% if application.highest_qualification %}
                <tr><th>{% trans "Highest Qualification" %}</th><td>{{ application.highest_qualification }}</td></tr>
                {% endif %}
                {% if application.previous_employer %}
                <tr><th>{% trans "Previous Employer" %}</th><td>{{ application.previous_employer }}</td></tr>
                {% endif %}
            </table>
        </div>
    </div>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

    <div class="form-row">
        <div class="fieldBox field-institution">
            <label>Application Institution:</label>
            <p><strong>{% if application.institution %}{{ application.institution.name }} ({{ application.institution.code }}){% else %}Not specified{% endif %}</strong></p>
            <p class="help">The institution the applicant wants to work at. Profile shows education institution separately.</p>
        </div>
        <div class="fieldBox field-education">
            <label>Education Institution:</label>
            <p><strong>{{ application.qualified_institution|default:"Not specified" }}</strong></p>
            <p class="help">The institution where the applicant obtained their qualification.</p>
        </div>
    </div>

        <div class="submit-row">
            <input type="submit" value="{% trans 'Approve Application' %}" class="default">
            <a href="{% url 'admin:users_staffapplication_changelist' %}" class="cancel-link">{% trans 'Cancel' %}</a>
        </div>
    </form>
</div>

<style>
.fieldBox {
    margin: 10px 0;
}

.fieldBox label {
    display: block;
    font-weight: bold;
    margin-bottom: 5px;
}

.fieldBox select {
    width: 400px;
    padding: 5px;
}

.errorlist {
    color: red;
    list-style: none;
    margin: 5px 0;
}

.help {
    color: #666;
    font-size: 12px;
    margin-top: 2px;
}

.submit-row {
    margin-top: 20px;
    padding-top: 10px;
    border-top: 1px solid #ddd;
}

.default {
    background: #79aec8;
    border: 1px solid #5f929e;
    border-radius: 4px;
    color: white;
    padding: 8px 16px;
    cursor: pointer;
}

.cancel-link {
    color: #999;
    margin-left: 10px;
    text-decoration: none;
}

.cancel-link:hover {
    color: #666;
}
</style>
{% endblock %}
